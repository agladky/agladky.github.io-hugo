+++
title = "Шпаргалка с основными командами для Git"
date = "2016-01-06T13:10:07+03:00"
tags = ["git"]
categories = ["Development"]
draft = true
description = "Основные git комманды. Конфигурация. Создание репозитория. Работа с ветками, файлами, коммитами. Синхронизация изменений. Просмотр истории."
keywords = "git, шпаргалка, commit, merge, коммит, комит, гит, репозиторий"
slug="git-cheat-sheet"
aliases = [
    "/posts/git-cheat-sheet/",
    "/2016/01/git.html"
]
+++

### Конфигурация
`git config –global user.name "[name]"` – Установить имя, которое будет прикрепляться к коммиту.

`git config –global user.email "[email address]"` – Установить email, который будет прикрепляться к коммиту.

`git config –global color.ui auto` – Включить полезную подсветку командной строки.

`git config –global push.default current` – Обновлять удаленную ветку с таким же именем, что и локальная, при пуше изменений (если не указано иного).

`git config –global core.editor [editor]` – Установить редактор по умолчанию для редактирования сообщений коммита.

`git config –global diff.tool [tool]` – Установить, какой инструмент использовать для разрешения конфликтов при слиянии.

### Создание репозиториев
`git init [project-name]` – Создать новый локальный репозиторий с заданным именем.

`git clone [url]` – Загрузить проект и его полную историю изменений.

### Работа с изменениями
`git status` – Полный список изменений файлов, ожидающих коммита.

`git status -s` – Краткий вид изменений.

`git diff` – Показать изменения в файлах, которые еще не были добавлены в индекс коммита (staged).

`git add [file]` – Сделать указанный файл готовым для коммита.

`git add .` – Сделать все измененные файлы готовыми для коммита.

`git add '*.txt'` – Добавить только файлы, соответствующие указанному выражению.

`git add –patch filename.x (или просто -p)` – Позволяет добавить в коммит только определенные изменения в файле.

`git diff –staged` – Показать что было добавленно в индекс с помощью `git add`, но еще не было закоммиченно.

`git diff HEAD` – Показать что изменилось с последнего коммита.

`git diff HEAD^` – Показать что изменилось с предпоследнего коммита.

`git diff [branch]` – Сравнить текущую ветку с заданной.

`git difftool -d` – То же самое, что и `diff`, но показывает изменения в заданной difftool.

`git difftool -d master..` – Показать изменения сделанные в текущей ветке.

`git diff –no-commit-id –name-only –no-merges origin/master…` – Показать только имена файлов которые были изменены в текущей ветке.

`git diff –stat` – Показать статистику какие файлы были изменены и как.

`git reset [file]` – Убрать файлы из индекса коммита (изменения не теряются).

`git commit` – Записать изменения в репозиторий. Для написания сообщения откроется назначенный редактор.

`git commit -m "[descriptive message]"` – Записать изменения с заданным сообщением.

`git commit –amend` – Добавить изменения к последнему коммиту.

### Работа с ветками
`git branch` – Список всех локальных веток в текущей директории.

`git branch [branch-name]` – Создать новую ветку.

`git checkout [branch-name]` – Переключиться на указанную ветку и обновить рабочую директорию.

`git checkout -b <name> <remote>/<branch>` – Переключиться на удаленную ветку.

`git checkout [filename]` – Вернуть файл в первоначальное состояние если он еще не был добавлен в индекс коммита.

`git merge [branch]` – Соединить изменения в текущей ветке с изменениями из заданной.

`git merge –no–ff [branch]` – Соединить ветки без режима "[fast forwarding](http://zencoder.ru/git/fast-forward-git)".

`git branch -a` – Посмотреть полный список локальных и удаленных веток.

`git branch -d [branch]` – Удалить заданную ветку.

`git branch -D [branch]` – Принудительно удалить заданную ветку, не смотря на ошибки.

`git branch -m <oldname> <newname>` – Переименовать ветку.

### Работа с файлами
`git rm [file]` – Удалить файл из рабочей директории и добавить в индекс информацию о удалении.

`git rm –cached [file]` – Удалить файл из репозитория, но сохранить его локально.

`git mv [file-original][file-renamed]` – Изменить имя файла и добавить в индекс коммита.

### Отслеживание файлов
`.gitignore` – Текстовый файл, в котором задаются правила для исключения файлов из репозитория. Например:

- `*.log`
- `build/`
- `temp-*`

`git ls-files –other –ignored –exclude-standard` – Список всех игнорируемых файлов.

### Сохранение фрагментов
`git stash` – Положить во временное хранилище все отслеживаемые файлы.

`git stash pop` – Восстановить последние файлы, положенные во временное хранилище.

`git stash list` – Список всех сохраненных изменений во временном хранилище.

`git stash drop` – Удалить последние файлы, положенные во временное хранилище.

### Просмотр истории
`git log` – Список изменения текущей ветки.

`git log –follow [file]` – Список изменения текущего файла, включая переименования.

`git log –pretty=format:"%h %s" –graph` – Изменение вида отображения истории изменений.

`git log –author='Name' –after={1.week.ago} –pretty=oneline –abbrev-commit` – Посмотреть над чем работал заданный пользователь последнюю неделю.

`git log –no-merges master..` – Посмотреть историю изменений только для текущей ветке.

`git diff [file-branch]…[second-branch]` – Посмотреть различия между двумя заданными ветками.

`git show [commit]` – Показать метадату и изменения в заданном коммите.

`git show [branch]:[file]` – Посмотреть на файл в другой ветке, не переключаясь на неё.

### Отмена коммитов
`git reset` – Убрать изменения из индекса коммита, сами изменения останутся.

`git reset [commit/tag]` – Отменить все коммиты после указанного коммита, изменения будут сохранены локально.

`git reset –hard [commit]` – Принудительно вернутся в указанному коммиту, не сохраняя историю и изменения.

### Синхронизация изменений
`git fetch [bookmark]` – Загрузить всю историю с заданного удаленного репозитория.

`git merge [bookmark]/[branch]` – Слить изменения локальной ветки и заданной удаленной.

`git push` – Запушить текущую ветку в удаленную ветку.

`git push [remote][branch]` – Запушить ветку в указанный репозиторий и удаленную ветку.

`git push [bookmark] :[branch]` – В удаленном репозитории удалить заданную ветку.

`git push -u origin master` – Если удаленная ветка не установлена как отслеживаемая, то сделать ее такой.

`git pull` – Загрузить историю и изменения удаленной ветки и произвести слияние с текущей веткой.

`git pull [remote][branch]` – Указать конкретную удаленную ветку для слияния.

`git remote` – Посмотреть список доступных удаленных репозиториев.

`git remote -v` – Посмотреть детальный список доступных удаленных репозиториев.

`git remote add [remote][url]` – Добавить новый удаленный репозиторий.

### Полезные ссылки
- 19 советов по повседневной работе с Git. [Оригинал](http://www.alexkras.com/19-git-tips-for-everyday-use/). [Перевод](http://habrahabr.ru/company/mailru/blog/267595/).
- Книга "[Pro Git](http://git-scm.com/book/ru/v1)". Издание первое, на русском.
- Книга "[Pro Git](http://git-scm.com/book/en/v2)". Издание второе, на английском.
- Git Rebase: [руководство по использованию](http://habrahabr.ru/post/161009/).
